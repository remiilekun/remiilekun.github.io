webpackJsonp([19],{oXh1:function(n,l,t){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var e=t("LMZF"),i=t("UHIZ"),o=t("eoFs"),u=t("kOp9"),a=t("fVSc"),c=t("ge1L"),r=t("kesh"),_=function(){function n(n,l,t,e){this.userService=n,this.notificationService=l,this.basicFunctions=t,this.router=e,this.readNoteCount=0,this.noteCount=0,this.notifications=this.notificationService.notifications,this.revisedNotifications=new o.a([]),this.groupNotificationsByDate()}return n.prototype.ngOnInit=function(){var n=this;this.notifications.subscribe(function(l){n.noteCount=l.length,n.readNoteCount=l.filter(function(n){return!n.isRead}).length})},n.prototype.getUserNameByUserId=function(n){return this.userService.getUserNameByUserId(n)},n.prototype.getFirstLetter=function(n){return n.toLowerCase()[0]},n.prototype.friendlyDate=function(n){return c(new Date(n)).format("llll")},n.prototype.readNotification=function(n){this.notificationService.readNotification(n);var l=n.subject.split("-")[0];this.router.navigate(["/home/tasks/"+l],{queryParams:{id:n.subjectId}})},n.prototype.groupNotificationsByDate=function(){var n=this,l=[];this.notifications.subscribe(function(t){t.forEach(function(t){var e=n.checkIfElementExists(l,t.createdAt);if(e)l[e].value.push(t);else{var i=[];i.push(t),l.push({key:t.createdAt,value:i})}}),n.revisedNotifications.next(l)})},n.prototype.checkIfElementExists=function(n,l){for(var t=0;t<n.length;t++)if(this.friendlyDate(n[t].key)===this.friendlyDate(l))return t;return!1},n}(),s=function(){},f=t("W64w"),d=t("HQRX"),g=t("AcZ/"),p=t("BPz8"),b=t("1K9N"),m=t("Un6q"),x=function(){function n(n){this.basicFunctions=n}return n.prototype.transform=function(n,l){var t=this,e=this.basicFunctions.getDateFormat(new Date(Date.now()),"-");return"today"===l?n.filter(function(n){return t.basicFunctions.getDateFormat(new Date(n.createdAt),"-")===e}):"earlier"===l?n.filter(function(n){return t.basicFunctions.getDateFormat(new Date(n.createdAt),"-")!==e}):"todayCount"===l?n.filter(function(n){return t.basicFunctions.getDateFormat(new Date(n.createdAt),"-")===e}).length:"earlierCount"===l?n.filter(function(n){return t.basicFunctions.getDateFormat(new Date(n.createdAt),"-")!==e}).length:void 0},n}(),h=e._4({encapsulation:0,styles:[[".notification-container[_ngcontent-%COMP%]{background:#f4f4f4;position:absolute;top:69px;left:0;width:100%;min-height:calc(100vh - 69px);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:1.5rem 0}.notification-block[_ngcontent-%COMP%]{margin-bottom:1rem}.notification-block-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:10px;font-weight:600;letter-spacing:.2px;margin-bottom:10px}.notification-card[_ngcontent-%COMP%]{width:100%;padding:1.5rem}.notification-card[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.notification-card[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,79,145,.3);-webkit-box-shadow:inset 0 0 6px rgba(0,79,145,.3);border-radius:10px}.notification-card[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;box-shadow:inset 0 0 6px rgba(0,79,145,.5);-webkit-box-shadow:inset 0 0 6px rgba(0,79,145,.5);background:rgba(0,79,145,.3)}.notification-card-header[_ngcontent-%COMP%]{color:#004f91;text-transform:uppercase;display:inline-block;min-width:10px;font-weight:700;border-bottom:2px solid #004f91}.notification-card-item[_ngcontent-%COMP%]{padding:.3rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;position:relative;border-bottom:1px solid #dddfe2;cursor:pointer}.notification-card-item.unread[_ngcontent-%COMP%]{background:#edf2fa}.notification-card-item-image[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;font-size:10px;line-height:10px;text-align:center;overflow:hidden;margin-right:15px;display:-webkit-box;display:-ms-flexbox;display:flex}.notification-card-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-webkit-backface-visibility:hidden;backface-visibility:hidden}.notification-card-item-image[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;font-size:16px;line-height:26px;color:#fff}.notification-card-item-detail[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;padding:7px 0}@media (max-width:767px){.notification-card-item-detail[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}.notification-card-item-text[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;margin:0;font-size:12px;color:#9a9a9a}.notification-card-item-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.notification-card-item-time[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 32%;flex:0 0 32%;margin:0;text-align:right;font-size:10px;color:#9a9a9a}@media (max-width:767px){.notification-card-item-time[_ngcontent-%COMP%]{text-align:left}}.letter-bg[_ngcontent-%COMP%]{text-transform:uppercase}.letter-bg-a[_ngcontent-%COMP%], .letter-bg-f[_ngcontent-%COMP%], .letter-bg-k[_ngcontent-%COMP%], .letter-bg-p[_ngcontent-%COMP%], .letter-bg-u[_ngcontent-%COMP%], .letter-bg-z[_ngcontent-%COMP%]{background:red}.letter-bg-b[_ngcontent-%COMP%], .letter-bg-g[_ngcontent-%COMP%], .letter-bg-l[_ngcontent-%COMP%], .letter-bg-q[_ngcontent-%COMP%], .letter-bg-v[_ngcontent-%COMP%]{background:blue}.letter-bg-c[_ngcontent-%COMP%], .letter-bg-h[_ngcontent-%COMP%], .letter-bg-m[_ngcontent-%COMP%], .letter-bg-r[_ngcontent-%COMP%], .letter-bg-w[_ngcontent-%COMP%]{background:green}.letter-bg-d[_ngcontent-%COMP%], .letter-bg-i[_ngcontent-%COMP%], .letter-bg-n[_ngcontent-%COMP%], .letter-bg-s[_ngcontent-%COMP%], .letter-bg-x[_ngcontent-%COMP%]{background:#9acd32}.letter-bg-e[_ngcontent-%COMP%], .letter-bg-j[_ngcontent-%COMP%], .letter-bg-o[_ngcontent-%COMP%], .letter-bg-t[_ngcontent-%COMP%], .letter-bg-y[_ngcontent-%COMP%]{background:#ff4500}"]],data:{}});function k(n){return e._29(0,[(n()(),e._6(0,0,null,null,1,"h6",[["class"," my-2"]],null,null,null,null,null)),(n()(),e._27(-1,null,["You have no notifications"]))],null,null)}function C(n){return e._29(0,[(n()(),e._6(0,0,null,null,25,"div",[["class","notification-card-item"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.readNotification(n.context.$implicit)&&e),e},null,null)),e._5(1,278528,null,0,m.i,[e.q,e.r,e.k,e.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e._22(2,{unread:0}),(n()(),e._27(-1,null,["\n              "])),(n()(),e._6(4,0,null,null,5,"div",[["class","notification-card-item-image"]],null,null,null,null,null)),(n()(),e._27(-1,null,["\n                "])),(n()(),e._6(6,0,null,null,2,"p",[["class","letter-bg"]],null,null,null,null,null)),e._5(7,278528,null,0,m.i,[e.q,e.r,e.k,e.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),e._27(8,null,["\n                  ","\n                "])),(n()(),e._27(-1,null,["\n              "])),(n()(),e._27(-1,null,["\n              "])),(n()(),e._6(11,0,null,null,13,"div",[["class","notification-card-item-detail"]],null,null,null,null,null)),(n()(),e._27(-1,null,["\n                "])),(n()(),e._6(13,0,null,null,4,"p",[["class","notification-card-item-text"]],null,null,null,null,null)),(n()(),e._27(-1,null,["\n                  "])),(n()(),e._6(15,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e._27(16,null,["",""])),(n()(),e._27(17,null,["","\n                "])),(n()(),e._27(-1,null,["\n                "])),(n()(),e._6(19,0,null,null,4,"div",[["class","notification-card-item-time"]],null,null,null,null,null)),(n()(),e._27(-1,null,["\n                  "])),(n()(),e._6(21,0,null,null,1,"p",[["class","mb-0"]],null,null,null,null,null)),(n()(),e._27(22,null,["",""])),(n()(),e._27(-1,null,["\n                "])),(n()(),e._27(-1,null,["\n              "])),(n()(),e._27(-1,null,["\n            "]))],function(n,l){var t=l.component;n(l,1,0,"notification-card-item",n(l,2,0,!l.context.$implicit.isRead)),n(l,7,0,"letter-bg","letter-bg-"+t.getFirstLetter(t.getUserNameByUserId(l.context.$implicit.actorId)))},function(n,l){var t=l.component;n(l,8,0,t.getFirstLetter(t.getUserNameByUserId(l.context.$implicit.actorId))),n(l,16,0,"null"!==l.context.$implicit.actorId?t.getUserNameByUserId(l.context.$implicit.actorId):""),n(l,17,0,l.context.$implicit.action),n(l,22,0,t.friendlyDate(l.context.$implicit.createdAt))})}function v(n){return e._29(0,[(n()(),e._6(0,0,null,null,6,"div",[],null,null,null,null,null)),(n()(),e._27(-1,null,["\n            "])),(n()(),e._1(16777216,null,null,3,null,C)),e._5(3,802816,null,0,m.j,[e.P,e.M,e.q],{ngForOf:[0,"ngForOf"]},null),e._21(131072,m.b,[e.h]),e._23(5,2),(n()(),e._27(-1,null,["\n          "]))],function(n,l){var t=l.component;n(l,3,0,e._28(l,3,0,n(l,5,0,e._20(l.parent.parent,0),e._28(l,3,0,e._20(l,4).transform(t.notifications)),"today")))},null)}function O(n){return e._29(0,[(n()(),e._27(-1,null,["\n            "])),(n()(),e._6(1,0,null,null,1,"h6",[["class"," my-2"]],null,null,null,null,null)),(n()(),e._27(-1,null,["You have no new notifications today"])),(n()(),e._27(-1,null,["\n          "]))],null,null)}function P(n){return e._29(0,[(n()(),e._6(0,0,null,null,25,"div",[["class","notification-card-item"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.readNotification(n.context.$implicit)&&e),e},null,null)),e._5(1,278528,null,0,m.i,[e.q,e.r,e.k,e.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e._22(2,{unread:0}),(n()(),e._27(-1,null,["\n            "])),(n()(),e._6(4,0,null,null,5,"div",[["class","notification-card-item-image"]],null,null,null,null,null)),(n()(),e._27(-1,null,["\n              "])),(n()(),e._6(6,0,null,null,2,"p",[["class","letter-bg"]],null,null,null,null,null)),e._5(7,278528,null,0,m.i,[e.q,e.r,e.k,e.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),e._27(8,null,["\n                ","\n              "])),(n()(),e._27(-1,null,["\n            "])),(n()(),e._27(-1,null,["\n            "])),(n()(),e._6(11,0,null,null,13,"div",[["class","notification-card-item-detail"]],null,null,null,null,null)),(n()(),e._27(-1,null,["\n              "])),(n()(),e._6(13,0,null,null,4,"p",[["class","notification-card-item-text"]],null,null,null,null,null)),(n()(),e._27(-1,null,["\n                "])),(n()(),e._6(15,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e._27(16,null,["",""])),(n()(),e._27(17,null,["","\n              "])),(n()(),e._27(-1,null,["\n              "])),(n()(),e._6(19,0,null,null,4,"div",[["class","notification-card-item-time"]],null,null,null,null,null)),(n()(),e._27(-1,null,["\n                "])),(n()(),e._6(21,0,null,null,1,"p",[["class","mb-0"]],null,null,null,null,null)),(n()(),e._27(22,null,["",""])),(n()(),e._27(-1,null,["\n              "])),(n()(),e._27(-1,null,["\n            "])),(n()(),e._27(-1,null,["\n          "]))],function(n,l){var t=l.component;n(l,1,0,"notification-card-item",n(l,2,0,!l.context.$implicit.isRead)),n(l,7,0,"letter-bg","letter-bg-"+t.getFirstLetter(t.getUserNameByUserId(l.context.$implicit.actorId)))},function(n,l){var t=l.component;n(l,8,0,t.getFirstLetter(t.getUserNameByUserId(l.context.$implicit.actorId))),n(l,16,0,"null"!==l.context.$implicit.actorId?t.getUserNameByUserId(l.context.$implicit.actorId):""),n(l,17,0,l.context.$implicit.action),n(l,22,0,t.friendlyDate(l.context.$implicit.createdAt))})}function y(n){return e._29(0,[(n()(),e._6(0,0,null,null,9,"div",[["class","notification-block"]],null,null,null,null,null)),(n()(),e._27(-1,null,["\n          "])),(n()(),e._6(2,0,null,null,1,"div",[["class","notification-block-title"]],null,null,null,null,null)),(n()(),e._27(-1,null,["Previous"])),(n()(),e._27(-1,null,["\n          "])),(n()(),e._1(16777216,null,null,3,null,P)),e._5(6,802816,null,0,m.j,[e.P,e.M,e.q],{ngForOf:[0,"ngForOf"]},null),e._21(131072,m.b,[e.h]),e._23(8,2),(n()(),e._27(-1,null,["\n        "]))],function(n,l){var t=l.component;n(l,6,0,e._28(l,6,0,n(l,8,0,e._20(l.parent.parent,0),e._28(l,6,0,e._20(l,7).transform(t.notifications)),"earlier")))},null)}function M(n){return e._29(0,[(n()(),e._27(-1,null,["\n        "])),(n()(),e._6(1,0,null,null,11,"div",[["class","notification-block"]],null,null,null,null,null)),(n()(),e._27(-1,null,["\n          "])),(n()(),e._6(3,0,null,null,1,"div",[["class","notification-block-title"]],null,null,null,null,null)),(n()(),e._27(-1,null,["Today"])),(n()(),e._27(-1,null,["\n          "])),(n()(),e._1(16777216,null,null,3,null,v)),e._5(7,16384,null,0,m.k,[e.P,e.M],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),e._21(131072,m.b,[e.h]),e._23(9,2),(n()(),e._27(-1,null,["\n          "])),(n()(),e._1(0,[["todayBlock",2]],null,0,null,O)),(n()(),e._27(-1,null,["\n        "])),(n()(),e._27(-1,null,["\n\n        "])),(n()(),e._1(16777216,null,null,3,null,y)),e._5(15,16384,null,0,m.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),e._21(131072,m.b,[e.h]),e._23(17,2),(n()(),e._27(-1,null,["\n      "]))],function(n,l){var t=l.component;n(l,7,0,e._28(l,7,0,n(l,9,0,e._20(l.parent,0),e._28(l,7,0,e._20(l,8).transform(t.notifications)),"todayCount")),e._20(l,11)),n(l,15,0,e._28(l,15,0,n(l,17,0,e._20(l.parent,0),e._28(l,15,0,e._20(l,16).transform(t.notifications)),"earlierCount")))},null)}function w(n){return e._29(0,[e._21(0,x,[r.a]),(n()(),e._6(1,0,null,null,18,"div",[["class","container-fluid notification-container"]],null,null,null,null,null)),(n()(),e._27(-1,null,["\n  "])),(n()(),e._6(3,0,null,null,15,"div",[["class","col-12 col-sm-8 col-md-7 col-lg-6"]],null,null,null,null,null)),(n()(),e._27(-1,null,["\n    "])),(n()(),e._6(5,0,null,null,12,"div",[["class","card notification-card"]],null,null,null,null,null)),(n()(),e._27(-1,null,["\n      "])),(n()(),e._6(7,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e._27(-1,null,["\n        "])),(n()(),e._6(9,0,null,null,1,"p",[["class","notification-card-header"]],null,null,null,null,null)),(n()(),e._27(-1,null,["\n          Your notifications\n        "])),(n()(),e._27(-1,null,["\n      "])),(n()(),e._27(-1,null,["\n\n      "])),(n()(),e._1(16777216,null,null,1,null,k)),e._5(14,16384,null,0,m.k,[e.P,e.M],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e._27(-1,null,["\n\n      "])),(n()(),e._1(0,[["noteBlock",2]],null,0,null,M)),(n()(),e._27(-1,null,["\n\n    "])),(n()(),e._27(-1,null,["\n  "])),(n()(),e._27(-1,null,["\n"]))],function(n,l){n(l,14,0,!l.component.noteCount,e._20(l,16))},null)}var I=e._2("app-notification",_,function(n){return e._29(0,[(n()(),e._6(0,0,null,null,1,"app-notification",[],null,null,null,w,h)),e._5(1,114688,null,0,_,[u.a,a.a,r.a,i.n],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),F=t("0nO6"),D=t("9iV4"),N=t("edXr"),U=t("TMwh"),j=t("EI9y"),E=t("vD//"),$=t("j0cC"),B=t("niGO"),A=t("Wv1J"),q=t("q+Vp"),z=t("8mhs"),L=t("AZWs"),S=t("YK3D"),X=t("D0bl"),R=t("hQlu"),Z=t("7GAF"),T=t("G185"),J=t("GpQu"),K=t("Ogh1"),W=t("JFtD"),G=t("LXlW"),V=t("KeTJ"),Y=t("JPeB"),Q=t("fUo4"),H=t("kP+6"),nn=t("8ud4"),ln=t("vVoZ"),tn=t("hFoj"),en=t("RpcX"),on=t("xkIc"),un=t("zkyZ"),an=t("ijuU"),cn=t("vpNW"),rn=t("8Edy"),_n=t("2DMo"),sn=t("AyeD"),fn=t("F+I1"),dn=t("k1BE"),gn=t("T2Au");t.d(l,"NotificationModuleNgFactory",function(){return pn});var pn=e._3(s,[],function(n){return e._17([e._18(512,e.j,e.Z,[[8,[f.a,d.a,g.a,p.a,b.a,I]],[3,e.j],e.v]),e._18(4608,m.m,m.l,[e.s,[2,m.u]]),e._18(4608,F.v,F.v,[]),e._18(4608,D.j,D.o,[m.d,e.z,D.m]),e._18(4608,D.p,D.p,[D.j,D.n]),e._18(5120,D.a,function(n){return[n]},[D.p]),e._18(4608,D.l,D.l,[]),e._18(6144,D.k,null,[D.l]),e._18(4608,D.i,D.i,[D.k]),e._18(6144,D.b,null,[D.i]),e._18(5120,D.g,D.q,[D.b,[2,D.a]]),e._18(4608,D.c,D.c,[D.g]),e._18(4608,N.a,N.a,[]),e._18(4608,U.c,U.c,[]),e._18(4608,U.h,U.b,[]),e._18(5120,U.j,U.k,[]),e._18(4608,U.i,U.i,[U.c,U.h,U.j]),e._18(4608,U.g,U.a,[]),e._18(5120,U.e,U.l,[U.i,U.g]),e._18(5120,j.a,E.a,[]),e._18(5120,$.a,E.b,[U.e]),e._18(4608,B.a,B.a,[j.a,$.a]),e._18(512,m.c,m.c,[]),e._18(512,F.s,F.s,[]),e._18(512,F.f,F.f,[]),e._18(512,D.e,D.e,[]),e._18(512,D.d,D.d,[]),e._18(512,A.a,A.a,[]),e._18(512,A.f,A.f,[]),e._18(512,A.c,A.c,[]),e._18(512,A.b,A.b,[]),e._18(512,A.d,A.d,[]),e._18(512,A.e,A.e,[]),e._18(512,q.a,q.a,[]),e._18(512,z.a,z.a,[]),e._18(512,L.a,L.a,[]),e._18(512,S.a,S.a,[]),e._18(512,X.a,X.a,[]),e._18(512,R.a,R.a,[]),e._18(512,Z.a,Z.a,[]),e._18(512,T.a,T.a,[]),e._18(512,J.a,J.a,[]),e._18(512,K.a,K.a,[]),e._18(512,W.a,W.a,[]),e._18(512,G.a,G.a,[]),e._18(512,V.a,V.a,[]),e._18(512,U.f,U.f,[]),e._18(512,Y.a,Y.a,[]),e._18(512,Q.a,Q.a,[]),e._18(512,H.a,H.a,[]),e._18(512,nn.a,nn.a,[]),e._18(512,ln.a,ln.a,[]),e._18(512,tn.a,tn.a,[]),e._18(512,en.a,en.a,[]),e._18(512,on.a,on.a,[]),e._18(512,un.a,un.a,[]),e._18(512,an.a,an.a,[]),e._18(512,cn.a,cn.a,[]),e._18(512,rn.a,rn.a,[]),e._18(512,_n.a,_n.a,[]),e._18(512,sn.a,sn.a,[]),e._18(512,fn.a,fn.a,[]),e._18(512,dn.a,dn.a,[]),e._18(512,gn.a,gn.a,[]),e._18(512,i.r,i.r,[[2,i.w],[2,i.n]]),e._18(512,s,s,[]),e._18(256,D.m,"XSRF-TOKEN",[]),e._18(256,D.n,"X-XSRF-TOKEN",[]),e._18(1024,i.l,function(){return[[{path:"",component:_}]]},[])])})}});