{"version":3,"sources":["C:/Projects/corona-fe-new/src/app/notification/notification.component.html","C:/Projects/corona-fe-new/src/app/notification/notification.component.scss","C:/Projects/corona-fe-new/src/app/notification/notification.component.ts","C:/Projects/corona-fe-new/src/app/notification/notification.module.ts"],"names":[],"mappings":"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","file":"notification.module.chunk.js","sourcesContent":["module.exports = \"<div class=\\\"container-fluid notification-container\\\">\\r\\n  <div class=\\\"col-12 col-sm-8 col-md-7 col-lg-6\\\">\\r\\n    <div class=\\\"card notification-card\\\">\\r\\n      <div>\\r\\n        <p class=\\\"notification-card-header\\\">\\r\\n          Your notifications\\r\\n        </p>\\r\\n      </div>\\r\\n\\r\\n      <h6 class=\\\" my-2\\\" *ngIf=\\\"!noteCount; else noteBlock\\\">You have no notifications</h6>\\r\\n\\r\\n      <ng-template #noteBlock>\\r\\n        <div class=\\\"notification-block\\\">\\r\\n          <div class=\\\"notification-block-title\\\">Today</div>\\r\\n          <div *ngIf=\\\"notifications | async | sortNotifications: 'todayCount'; else todayBlock\\\">\\r\\n            <div class=\\\"notification-card-item\\\" (click)=\\\"readNotification(note)\\\" [ngClass]=\\\"{'unread': !note.isRead}\\\" *ngFor=\\\"let note of notifications | async | sortNotifications: 'today'\\\">\\r\\n              <div class=\\\"notification-card-item-image\\\">\\r\\n                <p class=\\\"letter-bg\\\" [ngClass]=\\\"'letter-bg-' + getFirstLetter(getUserNameByUserId(note.actorId))\\\">\\r\\n                  {{ getFirstLetter(getUserNameByUserId(note.actorId)) }}\\r\\n                </p>\\r\\n              </div>\\r\\n              <div class=\\\"notification-card-item-detail\\\">\\r\\n                <p class=\\\"notification-card-item-text\\\">\\r\\n                  <span>{{ note.actorId !== \\\"null\\\" ? getUserNameByUserId(note.actorId): \\\"\\\" }}</span>{{ note.action }}\\r\\n                </p>\\r\\n                <div class=\\\"notification-card-item-time\\\">\\r\\n                  <p class=\\\"mb-0\\\">{{ friendlyDate(note.createdAt) }}</p>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <ng-template #todayBlock>\\r\\n            <h6 class=\\\" my-2\\\">You have no new notifications today</h6>\\r\\n          </ng-template>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"notifications | async | sortNotifications: 'earlierCount'\\\" class=\\\"notification-block\\\">\\r\\n          <div class=\\\"notification-block-title\\\">Previous</div>\\r\\n          <div class=\\\"notification-card-item\\\" (click)=\\\"readNotification(note)\\\" [ngClass]=\\\"{'unread': !note.isRead}\\\" *ngFor=\\\"let note of notifications | async | sortNotifications: 'earlier'\\\">\\r\\n            <div class=\\\"notification-card-item-image\\\">\\r\\n              <p class=\\\"letter-bg\\\" [ngClass]=\\\"'letter-bg-' + getFirstLetter(getUserNameByUserId(note.actorId))\\\">\\r\\n                {{ getFirstLetter(getUserNameByUserId(note.actorId)) }}\\r\\n              </p>\\r\\n            </div>\\r\\n            <div class=\\\"notification-card-item-detail\\\">\\r\\n              <p class=\\\"notification-card-item-text\\\">\\r\\n                <span>{{ note.actorId !== \\\"null\\\" ? getUserNameByUserId(note.actorId): \\\"\\\"}}</span>{{ note.action }}\\r\\n              </p>\\r\\n              <div class=\\\"notification-card-item-time\\\">\\r\\n                <p class=\\\"mb-0\\\">{{ friendlyDate(note.createdAt) }}</p>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </ng-template>\\r\\n\\r\\n    </div>\\r\\n  </div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Projects/corona-fe-new/src/app/notification/notification.component.html\n// module id = ../../../../../src/app/notification/notification.component.html\n// module chunks = notification.module","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".notification-container {\\n  background: #f4f4f4;\\n  position: absolute;\\n  top: 69px;\\n  left: 0;\\n  width: 100%;\\n  min-height: calc(100vh - 69px);\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  padding: 1.5rem 0; }\\n\\n.notification-block {\\n  margin-bottom: 1rem; }\\n\\n.notification-block-title {\\n    text-transform: uppercase;\\n    font-size: 10px;\\n    font-weight: 600;\\n    letter-spacing: 0.2px;\\n    margin-bottom: 10px; }\\n\\n.notification-card {\\n  width: 100%;\\n  padding: 1.5rem; }\\n\\n.notification-card::-webkit-scrollbar {\\n    width: 8px; }\\n\\n.notification-card::-webkit-scrollbar-track {\\n    box-shadow: inset 0 0 6px rgba(0, 79, 145, 0.3);\\n    -webkit-box-shadow: inset 0 0 6px rgba(0, 79, 145, 0.3);\\n    border-radius: 10px; }\\n\\n.notification-card::-webkit-scrollbar-thumb {\\n    border-radius: 10px;\\n    box-shadow: inset 0 0 6px rgba(0, 79, 145, 0.5);\\n    -webkit-box-shadow: inset 0 0 6px rgba(0, 79, 145, 0.5);\\n    background: rgba(0, 79, 145, 0.3); }\\n\\n.notification-card-header {\\n    color: #004f91;\\n    text-transform: uppercase;\\n    display: inline-block;\\n    min-width: 10px;\\n    font-weight: bold;\\n    border-bottom: 2px solid #004f91; }\\n\\n.notification-card-item {\\n    padding: 0.3rem;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    width: 100%;\\n    position: relative;\\n    border-bottom: 1px solid #dddfe2;\\n    cursor: pointer; }\\n\\n.notification-card-item.unread {\\n      background: #edf2fa; }\\n\\n.notification-card-item-image {\\n      width: 25px;\\n      height: 25px;\\n      border-radius: 50%;\\n      font-size: 10px;\\n      line-height: 10px;\\n      text-align: center;\\n      overflow: hidden;\\n      margin-right: 15px;\\n      display: -webkit-box;\\n      display: -ms-flexbox;\\n      display: flex; }\\n\\n.notification-card-item-image img {\\n        width: 100%;\\n        height: 100%;\\n        -o-object-fit: cover;\\n           object-fit: cover;\\n        -webkit-backface-visibility: hidden;\\n                backface-visibility: hidden; }\\n\\n.notification-card-item-image p {\\n        width: 100%;\\n        height: 100%;\\n        margin: 0;\\n        font-size: 16px;\\n        line-height: 26px;\\n        color: #fff; }\\n\\n.notification-card-item-detail {\\n      -webkit-box-flex: 1;\\n          -ms-flex: 1;\\n              flex: 1;\\n      display: -webkit-box;\\n      display: -ms-flexbox;\\n      display: flex;\\n      padding: 7px 0; }\\n\\n@media (max-width: 767px) {\\n        .notification-card-item-detail {\\n          -webkit-box-orient: vertical;\\n          -webkit-box-direction: normal;\\n              -ms-flex-direction: column;\\n                  flex-direction: column; } }\\n\\n.notification-card-item-text {\\n      -webkit-box-flex: 1;\\n          -ms-flex: 1;\\n              flex: 1;\\n      margin: 0;\\n      font-size: 12px;\\n      color: #9a9a9a; }\\n\\n.notification-card-item-text span {\\n        font-weight: bold; }\\n\\n.notification-card-item-time {\\n      -webkit-box-flex: 0;\\n          -ms-flex: 0 0 32%;\\n              flex: 0 0 32%;\\n      margin: 0;\\n      text-align: right;\\n      font-size: 10px;\\n      color: #9a9a9a; }\\n\\n@media (max-width: 767px) {\\n        .notification-card-item-time {\\n          text-align: left; } }\\n\\n.letter-bg {\\n  text-transform: uppercase; }\\n\\n.letter-bg-a, .letter-bg-f, .letter-bg-k, .letter-bg-p, .letter-bg-u, .letter-bg-z {\\n    background: red; }\\n\\n.letter-bg-b, .letter-bg-g, .letter-bg-l, .letter-bg-q, .letter-bg-v {\\n    background: blue; }\\n\\n.letter-bg-c, .letter-bg-h, .letter-bg-m, .letter-bg-r, .letter-bg-w {\\n    background: green; }\\n\\n.letter-bg-d, .letter-bg-i, .letter-bg-n, .letter-bg-s, .letter-bg-x {\\n    background: yellowgreen; }\\n\\n.letter-bg-e, .letter-bg-j, .letter-bg-o, .letter-bg-t, .letter-bg-y {\\n    background: orangered; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Projects/corona-fe-new/src/app/notification/notification.component.scss\n// module id = ../../../../../src/app/notification/notification.component.scss\n// module chunks = notification.module","import { Router } from \"@angular/router\";\r\nimport { Component, OnInit } from \"@angular/core\";\r\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\r\n\r\nimport { UserService } from \"../shared/user/user.service\";\r\n\r\nimport { Notification } from \"../shared/notification/notification\";\r\nimport { NotificationService } from \"../shared/notification/notification.service\";\r\n\r\nimport * as moment from \"moment\";\r\nimport { element } from \"protractor\";\r\nimport { BasicFunctions } from \"../shared/utility/basic-functions\";\r\n@Component({\r\n  selector: \"app-notification\",\r\n  templateUrl: \"./notification.component.html\",\r\n  styleUrls: [\"./notification.component.scss\"]\r\n})\r\nexport class NotificationComponent implements OnInit {\r\n  public loggedUser;\r\n  public userPicture;\r\n  public readNoteCount: any;\r\n  public notifications: BehaviorSubject<Array<Notification>>;\r\n  public revisedNotifications: BehaviorSubject<Array<any>>;\r\n  public noteCount: any;\r\n\r\n  constructor(\r\n    private userService: UserService,\r\n    private notificationService: NotificationService,\r\n    public basicFunctions: BasicFunctions,\r\n    private router: Router\r\n  ) {\r\n    this.readNoteCount = 0;\r\n    this.noteCount = 0;\r\n    this.notifications = this.notificationService.notifications;\r\n    this.revisedNotifications = new BehaviorSubject([]);\r\n    this.groupNotificationsByDate();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.notifications.subscribe(data => {\r\n      this.noteCount = data.length;\r\n      this.readNoteCount = data.filter(note => !note.isRead).length;\r\n      const temp = [];\r\n    });\r\n  }\r\n\r\n  getUserNameByUserId(userId) {\r\n    return this.userService.getUserNameByUserId(userId);\r\n  }\r\n\r\n  getFirstLetter(name) {\r\n    return name.toLowerCase()[0];\r\n  }\r\n\r\n  friendlyDate(date) {\r\n    return moment(new Date(date)).format(\"llll\");\r\n  }\r\n\r\n  readNotification(notification) {\r\n    this.notificationService.readNotification(notification);\r\n    const link = notification.subject.split(\"-\")[0];\r\n    this.router.navigate([`/home/tasks/${link}`], { queryParams: { id: notification.subjectId } });\r\n  }\r\n\r\n  // group notifications by date\r\n  groupNotificationsByDate() {\r\n    const temp = [];\r\n    this.notifications.subscribe(data => {\r\n      data.forEach(item => {\r\n        // checks if element doesnt exists in key array\r\n        const index = this.checkIfElementExists(temp, item.createdAt);\r\n        if (!index) {\r\n          const arr = [];\r\n          arr.push(item);\r\n          temp.push({\r\n            key: item.createdAt,\r\n            value: arr\r\n          });\r\n        } else {\r\n          temp[index].value.push(item);\r\n        }\r\n      });\r\n      this.revisedNotifications.next(temp);\r\n    });\r\n  }\r\n\r\n  checkIfElementExists(array, key) {\r\n    for (let i = 0; i < array.length; i++) {\r\n      if (this.friendlyDate(array[i].key) === this.friendlyDate(key)) {\r\n        return i;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Projects/corona-fe-new/src/app/notification/notification.component.ts","import { SharedModule } from \"app/shared/shared.module\";\r\nimport { NgModule, NO_ERRORS_SCHEMA } from \"@angular/core\";\r\nimport { Routes, RouterModule } from \"@angular/router\";\r\nimport { NotificationComponent } from \"app/notification/notification.component\";\r\n\r\nexport const routes: Routes = [{ path: \"\", component: NotificationComponent }];\r\n\r\n@NgModule({\r\n  imports: [SharedModule, RouterModule.forChild(routes)],\r\n  declarations: [NotificationComponent],\r\n  schemas: [NO_ERRORS_SCHEMA]\r\n})\r\nexport class NotificationModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Projects/corona-fe-new/src/app/notification/notification.module.ts"],"sourceRoot":"webpack:///"}